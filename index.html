<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>مسبحة المؤمن</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #f0fff0, #d2f2d2);
      color: #333;
      text-align: center;
      direction: rtl;
    }
    #loader {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      z-index: 1000;
    }
    .container {
      display: none;
      padding: 20px;
    }
    .counter {
      font-size: 48px;
      margin: 20px 0;
    }
    .beads-container {
      display: flex;
      overflow-x: auto;
      padding: 10px;
      margin-bottom: 20px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .bead {
      width: 50px;
      height: 50px;
      margin: 0 5px;
      background-color: #4caf50;
      border-radius: 50%;
      scroll-snap-align: center;
      transition: transform 0.2s;
      flex-shrink: 0;
    }
    .bead:active {
      transform: scale(1.1);
    }
    button {
      background-color: #388e3c;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      margin: 5px;
    }
    .dzikr {
      background: #fff;
      padding: 15px;
      margin: 10px auto;
      border-radius: 10px;
      max-width: 90%;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .dzikr-count {
      font-size: 24px;
      color: #4caf50;
      cursor: pointer;
    }
    audio {
      display: block;
      margin: 10px auto;
    }
  </style>
</head>
<body>
  <div id="loader">✨ جاري التحميل...</div>
  <div class="container" id="main">
    <h1>🌿 مسبحة المؤمن</h1>
    <div class="counter" id="tasbeehCount">0</div>
    <div class="beads-container" id="beads">
      <!-- خرز -->
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
      <div class="bead"></div>
    </div>
    <button onclick="resetCount()">🔄 إعادة تعيين الكل</button>

    <h2>🕊️ أذكار الصباح</h2>

    <div class="dzikr">
      <p>بِسْمِ اللَّهِ الَّذِي لا يَضُرُّ مَعَ اسْمِهِ شَيءٌ فِي الْأَرْضِ وَلا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ</p>
      <div class="dzikr-count" onclick="decrease(this)" data-start="3">3</div>
    </div>

    <div class="dzikr">
      <p>اللّهـمَّ أَنْتَ رَبِّـي، لا إلهَ إلاّ أَنْتَ، خَلَقْتَني وَأَنا عَبْـدُك... إلى آخر الدعاء</p>
      <div class="dzikr-count" onclick="decrease(this)" data-start="1">1</div>
    </div>

    <div class="dzikr">
      <p>الفاتحة</p>
      <audio controls>
        <source src="https://server12.mp3quran.net/yasser/001.mp3" type="audio/mpeg">
        متصفحك لا يدعم تشغيل الصوت
      </audio>
    </div>

    <div class="dzikr">
      <p>آية الكرسي</p>
      <audio controls>
        <source src="https://server12.mp3quran.net/yasser/255.mp3" type="audio/mpeg">
        متصفحك لا يدعم تشغيل الصوت
      </audio>
    </div>

  </div>

  <script>
    // شاشة تحميل
    window.onload = () => {
      setTimeout(() => {
        document.getElementById("loader").style.display = "none";
        document.getElementById("main").style.display = "block";
      }, 1500);
    };

    let count = 0;
    const countDisplay = document.getElementById("tasbeehCount");
    const beads = document.getElementById("beads");

    beads.addEventListener("scroll", () => {
      // كل مرة تمر خرزة نزيد العداد
      count++;
      countDisplay.textContent = count;
    });

    function resetCount() {
      count = 0;
      countDisplay.textContent = "0";
      document.querySelectorAll(".dzikr-count").forEach(el => {
        el.textContent = el.dataset.start;
      });
    }

    function decrease(el) {
      let num = parseInt(el.textContent);
      if (num > 0) {
        num--;
        el.textContent = num;
        if (num === 0) {
          el.style.color = "gray";
        }
      }
    }
  </script>
</body>
</html>
