<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- علامة تحقق Google Search Console -->
    <meta name="google-site-verification" content="jlX2Hmw23XtX8ro-dHO1dDG8VGo_S7ujjoFjDM0fB2c" />
    
    <title>أذكار المسلم | تطبيق متكامل للأذكار اليومية</title>
    
    <!-- تحسينات SEO -->
    <meta name="description" content="تطبيق أذكار المسلم: أذكار الصباح والمساء، أذكار النوم، أذكار بعد الصلاة، مسبحة إلكترونية">
    <meta name="keywords" content="أذكار, أذكار المسلم, أذكار الصباح, أذكار المساء, أذكار النوم, أذكار بعد الصلاة, مسبحة إلكترونية">
    <meta name="author" content="موقع أذكار المسلم">
    
    <!-- روابط التصميم -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a0ca3;
            --secondary: #7209b7;
            --accent: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4ade80;
            --warning: #facc15;
            --danger: #f87171;
            --card-bg: rgba(255, 255, 255, 0.95);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            --border-radius: 25px;
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #3a0ca3, #4361ee, #4cc9f0);
            background-size: 400% 400%;
            animation: gradientBG 18s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-primary);
            padding: 20px;
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .page {
            display: none;
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            backdrop-filter: blur(12px);
            transform: scale(0.95);
            opacity: 0;
            animation: fadeIn 0.6s forwards;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: scale(1); }
        }

        .header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 12px;
            font-weight: 700;
            position: relative;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        .progress-container {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.25);
            position: relative;
            margin-top: 20px;
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0;
            background: var(--accent);
            border-radius: 6px;
            transition: var(--transition);
        }

        .welcome-container {
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .welcome-text {
            margin-bottom: 40px;
        }

        .welcome-text h2 {
            font-size: 2.4rem;
            color: var(--primary-dark);
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }

        .welcome-text h2::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        .welcome-text p {
            font-size: 1.25rem;
            line-height: 1.8;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .option-btn {
            background: linear-gradient(145deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 25px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.25rem;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.35);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 180px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .option-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
            z-index: -1;
            opacity: 0;
            transition: var(--transition);
        }

        .option-btn:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 15px 30px rgba(67, 97, 238, 0.45);
        }

        .option-btn:hover::before {
            opacity: 1;
        }

        .option-btn i {
            font-size: 3.2rem;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .loading-container {
            padding: 60px 30px;
            text-align: center;
            position: relative;
        }

        .loading-icon {
            font-size: 5.5rem;
            color: var(--primary);
            margin-bottom: 40px;
            animation: pulse 1.8s infinite;
            position: relative;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.15); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        .loading-text {
            font-size: 1.8rem;
            margin-bottom: 40px;
            color: var(--primary);
            font-weight: 600;
            position: relative;
        }

        .dhikr-container {
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .dhikr-title {
            font-size: 2.2rem;
            color: var(--primary-dark);
            margin-bottom: 35px;
            padding-bottom: 15px;
            display: inline-block;
            position: relative;
        }

        .dhikr-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        .dhikr-content {
            background: white;
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            margin-bottom: 40px;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .dhikr-content::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .dhikr-text {
            font-size: 2.2rem;
            line-height: 1.8;
            margin-bottom: 25px;
            color: var(--text-primary);
            font-weight: 500;
            text-align: center;
            max-width: 700px;
        }

        .dhikr-source {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 25px;
            padding: 10px 20px;
            background: rgba(76, 201, 240, 0.1);
            border-radius: 12px;
            display: inline-block;
        }

        .counter-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            margin: 35px 0;
            position: relative;
        }

        .counter-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: none;
            background: var(--primary);
            color: white;
            font-size: 2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .counter-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.4);
        }

        .counter-display {
            font-size: 3.5rem;
            font-weight: bold;
            min-width: 120px;
            color: var(--primary-dark);
            font-family: 'Tajawal', sans-serif;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .target-count {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-top: 15px;
            font-weight: 500;
        }

        .target-count span {
            color: var(--primary-dark);
            font-weight: 700;
        }

        .actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 35px;
            border-radius: 50px;
            border: none;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .action-btn.primary {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }

        .action-btn.secondary {
            background: transparent;
            border: 3px solid var(--primary);
            color: var(--primary);
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .action-btn.primary:hover {
            background: linear-gradient(to right, var(--primary-dark), var(--secondary));
        }

        .action-btn.secondary:hover {
            background: rgba(67, 97, 238, 0.1);
        }

        .footer {
            text-align: center;
            padding: 25px;
            background: rgba(241, 243, 249, 0.8);
            color: var(--text-secondary);
            font-size: 1.1rem;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .logo i {
            color: var(--accent);
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2.2rem; }
            .welcome-text h2 { font-size: 2rem; }
            .dhikr-text { font-size: 1.8rem; }
            .option-btn { min-height: 160px; padding: 20px 15px; }
            .option-btn i { font-size: 2.8rem; }
            .counter-btn { width: 60px; height: 60px; font-size: 1.8rem; }
            .counter-display { font-size: 3rem; min-width: 100px; }
            .dhikr-content { padding: 30px 20px; }
        }

        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }
            .dhikr-text { font-size: 1.6rem; }
            .counter-container { gap: 15px; }
            .action-btn { padding: 12px 25px; font-size: 1.1rem; }
            .header { padding: 25px 20px; }
            .header h1 { font-size: 1.9rem; }
            .header p { font-size: 1.05rem; }
            .welcome-text p { font-size: 1.1rem; }
        }

        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        /* شريط التحقق */
        .verification-bar {
            background: #4ade80;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 1.1rem;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="verification-bar">
        <i class="fas fa-check-circle"></i> تم إضافة تحقق ملكية Google بنجاح
    </div>
    
    <div class="particles" id="particles"></div>
    
    <!-- صفحة البداية -->
    <div id="home-page" class="page active">
        <div class="header">
            <div class="logo">
                <i class="fas fa-mosque"></i>
                <span>أذكار المسلم</span>
            </div>
            <p>تطبيق متكامل للأذكار اليومية الثابتة عن النبي ﷺ</p>
            <div class="progress-container">
                <div class="progress-bar" id="home-progress"></div>
            </div>
        </div>
        
        <div class="welcome-container">
            <div class="welcome-text">
                <h2>مرحباً بك في تطبيق الأذكار</h2>
                <p>هذا التطبيق يساعدك على المداومة على أذكار الصباح والمساء وأذكار النوم وأذكار ما بعد الصلاة، بالإضافة إلى مسبحة إلكترونية لتسبيح الله تعالى. تم جمع الأذكار من مصادر موثوقة مثل موقع إسلام بوك.</p>
            </div>
            
            <div class="options-grid">
                <button class="option-btn" data-type="rosary">
                    <i class="fas fa-praying-hands"></i>
                    المسبحة الإلكترونية
                </button>
                <button class="option-btn" data-type="morning">
                    <i class="fas fa-sun"></i>
                    أذكار الصباح
                </button>
                <button class="option-btn" data-type="evening">
                    <i class="fas fa-moon"></i>
                    أذكار المساء
                </button>
                <button class="option-btn" data-type="sleep">
                    <i class="fas fa-bed"></i>
                    أذكار النوم
                </button>
                <button class="option-btn" data-type="prayer">
                    <i class="fas fa-pray"></i>
                    أذكار بعد الصلاة
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>جميع الأذكار مأخوذة من السنة النبوية الصحيحة وموقع إسلام بوك | تم التطوير بحب ❤️</p>
        </div>
    </div>
    
    <!-- صفحة التحميل -->
    <div id="loading-page" class="page">
        <div class="header">
            <h1>جاري التحميل</h1>
            <p>نعد لك الأذكار المطلوبة</p>
            <div class="progress-container">
                <div class="progress-bar" id="loading-progress"></div>
            </div>
        </div>
        
        <div class="loading-container">
            <div class="loading-icon">
                <i class="fas fa-spinner"></i>
            </div>
            <div class="loading-text" id="loading-message">جاري تحضير الأذكار...</div>
        </div>
    </div>
    
    <!-- صفحة الأذكار -->
    <div id="dhikr-page" class="page">
        <div class="header">
            <h1 id="dhikr-page-title">أذكار الصباح</h1>
            <p id="dhikr-page-subtitle">الأذكار الثابتة عن النبي ﷺ</p>
            <div class="progress-container">
                <div class="progress-bar" id="dhikr-progress"></div>
            </div>
        </div>
        
        <div class="dhikr-container">
            <h2 class="dhikr-title" id="current-dhikr-title">الذكر الحالي</h2>
            
            <div class="dhikr-content">
                <div class="dhikr-text" id="dhikr-text">
                    أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ
                </div>
                <div class="dhikr-source" id="dhikr-source">
                    [القرآن الكريم]
                </div>
            </div>
            
            <div class="counter-container">
                <button class="counter-btn" id="decrement-btn">
                    <i class="fas fa-minus"></i>
                </button>
                <div class="counter-display" id="counter">0</div>
                <button class="counter-btn" id="increment-btn">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            
            <div class="target-count" id="target-count">
                العدد المستهدف: <span id="target-number">33</span> مرة
            </div>
            
            <div class="actions">
                <button class="action-btn secondary" id="prev-btn">
                    <i class="fas fa-arrow-right"></i> السابق
                </button>
                <button class="action-btn primary" id="next-btn">
                    التالي <i class="fas fa-arrow-left"></i>
                </button>
                <button class="action-btn secondary" id="back-btn">
                    <i class="fas fa-home"></i> الرئيسية
                </button>
            </div>
        </div>
    </div>

    <script>
        // بيانات الأذكار الكاملة من موقع إسلام بوك
        const dhikrData = {
            rosary: {
                title: "المسبحة الإلكترونية",
                subtitle: "سبحان الله وبحمده، سبحان الله العظيم",
                dhikrs: [
                    { text: "سُبْحَانَ اللهِ", count: 33, source: "السنة النبوية" },
                    { text: "الْحَمْدُ لِلَّهِ", count: 33, source: "السنة النبوية" },
                    { text: "اللهُ أَكْبَرُ", count: 34, source: "السنة النبوية" },
                    { text: "لَا إِلَهَ إِلَّا اللهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 10, source: "رواه مسلم" },
                    { text: "سُبْحَانَ اللهِ وَبِحَمْدِهِ", count: 100, source: "رواه مسلم" }
                ]
            },
            morning: {
                title: "أذكار الصباح",
                subtitle: "أذكار الصباح الثابتة عن النبي ﷺ",
                dhikrs: [
                    { text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَٰهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 1, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ", count: 1, source: "رواه الترمذي" },
                    { text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ", count: 100, source: "رواه مسلم" },
                    { text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 10, source: "رواه الترمذي" },
                    { text: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ", count: 3, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ مِنْكَ فِي نِعْمَةٍ وَعَافِيَةٍ وَسِتْرٍ، فَأَتِمَّ نِعْمَتَكَ عَلَيَّ وَعَافِيَتَكَ وَسِتْرَكَ فِي الدُّنْيَا وَالْآخِرَةِ", count: 1, source: "رواه ابن السني" },
                    { text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ", count: 3, source: "رواه أبو داود" }
                ]
            },
            evening: {
                title: "أذكار المساء",
                subtitle: "أذكار المساء الثابتة عن النبي ﷺ",
                dhikrs: [
                    { text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَٰهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 1, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ", count: 1, source: "رواه الترمذي" },
                    { text: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ", count: 3, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ إِنِّي أَمْسَيْتُ مِنْكَ فِي نِعْمَةٍ وَعَافِيَةٍ وَسِتْرٍ، فَأَتِمَّ نِعْمَتَكَ عَلَيَّ وَعَافِيَتَكَ وَسِتْرَكَ فِي الدُّنْيَا وَالْآخِرَةِ", count: 1, source: "رواه ابن السني" },
                    { text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ: عَدَدَ خَلْقِهِ، وَرِضَا نَفْسِهِ، وَزِنَةَ عَرْشِهِ، وَمِدَادَ كَلِمَاتِهِ", count: 3, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ", count: 3, source: "رواه أبو داود" }
                ]
            },
            sleep: {
                title: "أذكار النوم",
                subtitle: "أذكار النوم الثابتة عن النبي ﷺ",
                dhikrs: [
                    { text: "اللَّهُمَّ إِنَّكَ خَلَقْتَ نَفْسِي وَأَنْتَ تَوَفَّاهَا، لَكَ مَمَاتُهَا وَمَحْيَاهَا، إِنْ أَحْيَيْتَهَا فَاحْفَظْهَا، وَإِنْ أَمَتَّهَا فَاغْفِرْ لَهَا، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَافِيَةَ", count: 1, source: "رواه مسلم" },
                    { text: "بِاسْمِكَ رَبِّـي وَضَعْـتُ جَنْـبي ، وَبِكَ أَرْفَعُـه، فَإِنْ أَمْسَـكْتَ نَفْسـي فارْحَـمْها ، وَإِنْ أَرْسَلْتَـها فاحْفَظْـها بِمـا تَحْفَـظُ بِه عِبـادَكَ الصّـالِحـين", count: 1, source: "رواه البخاري" },
                    { text: "الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا، وَكَفَانَا، وَآوَانَا، فَكَمْ مِمَّنْ لَا كَافِيَ لَهُ وَلَا مُؤْوِيَ", count: 1, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ", count: 3, source: "رواه الترمذي" },
                    { text: "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا", count: 1, source: "رواه البخاري" },
                    { text: "اللَّهُمَّ أَسْلَمْتُ نَفْسِي إِلَيْكَ، وَفَوَّضْتُ أَمْرِي إِلَيْكَ، وَوَجَّهْتُ وَجْهِي إِلَيْكَ، وَأَلْجَأْتُ ظَهْرِي إِلَيْكَ، رَغْبَةً وَرَهْبَةً إِلَيْكَ، لَا مَلْجَأَ وَلَا مَنْجَا مِنْكَ إِلَّا إِلَيْكَ، آمَنْتُ بِكِتَابِكَ الَّذِي أَنْزَلْتَ، وَبِنَبِيِّكَ الَّذِي أَرْسَلْتَ", count: 1, source: "رواه البخاري" }
                ]
            },
            prayer: {
                title: "أذكار بعد الصلاة",
                subtitle: "أذكار ما بعد الصلاة الثابتة عن النبي ﷺ",
                dhikrs: [
                    { text: "أَسْتَغْفِرُ اللَّه (ثلاثاً)", count: 3, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ أَنْتَ السَّلاَمُ وَمِنْكَ السَّلاَمُ تَبَارَكْتَ يَا ذَا الْجَلاَلِ وَالإِكْرَامِ", count: 1, source: "رواه مسلم" },
                    { text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 1, source: "رواه البخاري ومسلم" },
                    { text: "سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَاللَّهُ أَكْبَرُ (ثلاثاً وثلاثين مرة)", count: 33, source: "رواه البخاري ومسلم" },
                    { text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 10, source: "رواه مسلم" },
                    { text: "اللَّهُمَّ أَعِنِّي عَلَى ذِكْرِكَ وَشُكْرِكَ وَحُسْنِ عِبَادَتِكَ", count: 1, source: "رواه أبو داود" },
                    { text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْبُخْلِ، وَأَعُوذُ بِكَ مِنَ الْجُبْنِ، وَأَعُوذُ بِكَ مِنْ أَنْ أُرَدَّ إِلَى أَرْذَلِ الْعُمُرِ، وَأَعُوذُ بِكَ مِنْ فِتْنَةِ الدُّنْيَا، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ", count: 1, source: "رواه البخاري" }
                ]
            }
        };

        // إنشاء الجسيمات المتحركة
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // أحجام وألوان عشوائية
                const size = Math.random() * 15 + 5;
                const color = `rgba(255, 255, 255, ${Math.random() * 0.4 + 0.1})`;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = color;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDuration = `${Math.random() * 20 + 10}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // عناصر DOM
        const pages = {
            home: document.getElementById('home-page'),
            loading: document.getElementById('loading-page'),
            dhikr: document.getElementById('dhikr-page')
        };

        const optionButtons = document.querySelectorAll('.option-btn');
        const dhikrTitle = document.getElementById('dhikr-page-title');
        const dhikrSubtitle = document.getElementById('dhikr-page-subtitle');
        const currentDhikrTitle = document.getElementById('current-dhikr-title');
        const dhikrText = document.getElementById('dhikr-text');
        const dhikrSource = document.getElementById('dhikr-source');
        const counterDisplay = document.getElementById('counter');
        const targetNumber = document.getElementById('target-number');
        const incrementBtn = document.getElementById('increment-btn');
        const decrementBtn = document.getElementById('decrement-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const backBtn = document.getElementById('back-btn');

        // متغيرات الحالة
        let currentPage = 'home';
        let currentDhikrType = '';
        let currentDhikrIndex = 0;
        let counterValue = 0;
        let currentDhikr = null;

        // تهيئة الأحداث
        function initEvents() {
            // أحداث أزرار الخيارات
            optionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const type = this.getAttribute('data-type');
                    currentDhikrType = type;
                    showLoading(type);
                });
            });

            // أحداث العدادات
            incrementBtn.addEventListener('click', () => {
                counterValue++;
                updateCounter();
            });

            decrementBtn.addEventListener('click', () => {
                if (counterValue > 0) counterValue--;
                updateCounter();
            });

            // أحداث التنقل بين الأذكار
            prevBtn.addEventListener('click', showPrevDhikr);
            nextBtn.addEventListener('click', showNextDhikr);
            backBtn.addEventListener('click', goBackToHome);
        }

        // عرض صفحة التحميل
        function showLoading(type) {
            // تحديث رسالة التحميل بناءً على النوع
            const loadingMessage = document.getElementById('loading-message');
            const typeNames = {
                rosary: "المسبحة الإلكترونية",
                morning: "أذكار الصباح",
                evening: "أذكار المساء",
                sleep: "أذكار النوم",
                prayer: "أذكار بعد الصلاة"
            };
            
            loadingMessage.textContent = `جاري تحضير ${typeNames[type]}...`;
            
            // تغيير الصفحة
            switchPage('loading');
            
            // محاكاة التحميل
            let progress = 0;
            const progressBar = document.getElementById('loading-progress');
            const interval = setInterval(() => {
                progress += 5;
                progressBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        showDhikrPage();
                    }, 500);
                }
            }, 100);
        }

        // عرض صفحة الأذكار
        function showDhikrPage() {
            currentDhikrIndex = 0;
            counterValue = 0;
            
            // تحديث معلومات الصفحة
            dhikrTitle.textContent = dhikrData[currentDhikrType].title;
            dhikrSubtitle.textContent = dhikrData[currentDhikrType].subtitle;
            
            // تحميل الذكر الأول
            loadCurrentDhikr();
            
            // تغيير الصفحة
            switchPage('dhikr');
        }

        // تحميل الذكر الحالي
        function loadCurrentDhikr() {
            currentDhikr = dhikrData[currentDhikrType].dhikrs[currentDhikrIndex];
            currentDhikrTitle.textContent = `الذكر ${currentDhikrIndex + 1} من ${dhikrData[currentDhikrType].dhikrs.length}`;
            dhikrText.textContent = currentDhikr.text;
            dhikrSource.textContent = currentDhikr.source ? `[${currentDhikr.source}]` : "";
            targetNumber.textContent = currentDhikr.count;
            counterValue = 0;
            updateCounter();
        }

        // تحديث العداد
        function updateCounter() {
            counterDisplay.textContent = counterValue;
            
            // تغيير لون العداد عند الوصول للعدد المطلوب
            if (counterValue >= currentDhikr.count) {
                counterDisplay.style.color = "#4ade80";
            } else {
                counterDisplay.style.color = "#3a0ca3";
            }
        }

        // الذكر السابق
        function showPrevDhikr() {
            if (currentDhikrIndex > 0) {
                currentDhikrIndex--;
                loadCurrentDhikr();
            }
        }

        // الذكر التالي
        function showNextDhikr() {
            if (currentDhikrIndex < dhikrData[currentDhikrType].dhikrs.length - 1) {
                currentDhikrIndex++;
                loadCurrentDhikr();
            }
        }

        // العودة للصفحة الرئيسية
        function goBackToHome() {
            switchPage('home');
        }

        // تبديل الصفحات
        function switchPage(page) {
            // إخفاء جميع الصفحات
            Object.keys(pages).forEach(p => {
                pages[p].classList.remove('active');
            });
            
            // إظهار الصفحة المطلوبة
            pages[page].classList.add('active');
            currentPage = page;
            
            // إعادة تعيين شريط التقدم
            document.querySelectorAll('.progress-bar').forEach(bar => {
                bar.style.width = '0%';
            });
            
            // تحريك شريط التقدم في الصفحة الرئيسية
            if (page === 'home') {
                setTimeout(() => {
                    const homeProgress = document.getElementById('home-progress');
                    homeProgress.style.width = '100%';
                }, 300);
            }
        }

        // بدء التطبيق
        window.onload = function() {
            createParticles();
            initEvents();
            
            // تحريك شريط التقدم في الصفحة الرئيسية
            setTimeout(() => {
                const homeProgress = document.getElementById('home-progress');
                homeProgress.style.width = '100%';
            }, 500);
        };
    </script>
</body>
</html>
